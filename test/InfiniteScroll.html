
<!DOCTYPE html>
<html>
<head>
	<title>Inifinite Scroll Widget Automated (non-robot) Tests</title>

    <style type="text/css">
        .panel {
            padding: 1em;
            margin: 1em 5em;
            border: 2px solid gray;
        }
    </style>

	<!-- required: dojo.js -->
    <script type="text/javascript">
        var dojoConfig = {
            async: true,
            isDebug: true,
            packages: [
                {
                    name: "my",
                    location: location.pathname.replace(/\/[^/]+$/, "") + "/.."
                }
            ]
        };
    </script>
    <script type="text/javascript"
        src="http://ajax.googleapis.com/ajax/libs/dojo/1.7.2/dojo/dojo.js"></script>

    <script type="text/javascript">
      var content = "<div class='panel'><p>Vivamus vehicula. Nulla pretium nibh at erat. Curabitur molestie nisi quis" +
            "nisi. Morbi imperdiet, urna vel auctor convallis, mi dolor varius nibh, sed" +
            "tincidunt ligula ipsum vel lectus. Aliquam sodales ullamcorper tortor. Nulla" +
            "fringilla turpis sit amet dui. Morbi ut mauris in erat suscipit sodales." +
            "Maecenas vel augue in dui hendrerit malesuada. Proin interdum nibh sed dolor." +
            "Quisque ut felis nec orci interdum lobortis. Quisque congue. Suspendisse eget" +
            "risus vel metus interdum vulputate.</p></div>";
        require(['dojo/_base/kernel', 'my/InfiniteScroll'], function (dojo, InfiniteScroll) {
            var is = new InifinteScroll({
                domNode: document.getElementById('panels'),
                onReachStart: function() {
                    console.log('Reached top!');
                    // Mock an ajax delay
                    setTimeout(function() {
                      is.prepend(content);
                    }, 300);
                },
                onReachEnd: function() {
                    console.log('Reached bottom!');
                    // Mock an ajax delay
                    setTimeout(function() {
                      is.append(content);
                    }, 300);
                }
            });
        });        
    </script>

</head>
<body>

	<h1>Inifinite Scroll Widget Automated (non-robot) Tests</h1>

    <div id="panels">
        <div class="panel">
            <p>Vivamus vehicula. Nulla pretium nibh at erat. Curabitur molestie nisi quis
            nisi. Morbi imperdiet, urna vel auctor convallis, mi dolor varius nibh, sed
            tincidunt ligula ipsum vel lectus. Aliquam sodales ullamcorper tortor. Nulla
            fringilla turpis sit amet dui. Morbi ut mauris in erat suscipit sodales.
            Maecenas vel augue in dui hendrerit malesuada. Proin interdum nibh sed dolor.
            Quisque ut felis nec orci interdum lobortis. Quisque congue. Suspendisse eget
            risus vel metus interdum vulputate.</p>

            <p>Cras interdum condimentum turpis. Aenean nec pede vitae velit convallis
            tempor. Nullam purus ante, feugiat eget, faucibus nec, volutpat at, ipsum. Morbi
            suscipit venenatis magna. Suspendisse potenti. Aenean ut eros. Nullam eget sem.
            Sed in libero a eros dapibus varius. Aenean nisi. Sed a justo. Morbi lacus elit,
            accumsan vel, euismod ac, aliquam iaculis, eros. In porttitor dolor vitae dolor.
            Nullam vulputate faucibus ligula. Aenean consequat pede quis lectus. Fusce id
            orci. Nam pharetra. Cras nec nunc.</p>

            <p>Maecenas lobortis nunc ut leo. Duis sollicitudin diam id velit. Aliquam ut
            sem a leo fringilla vehicula. Nunc mollis tellus in quam. Sed non nisl sed ipsum
            dignissim ullamcorper. Vestibulum interdum sapien id diam. Curabitur rhoncus
            erat. Cras at pede feugiat neque placerat imperdiet. Morbi ullamcorper. Vivamus
            metus quam, mollis non, consequat eu, bibendum et, eros. Donec quis purus non
            magna ultrices rutrum. Sed tempor, odio id elementum rhoncus, lacus nisi aliquet
            eros, at lacinia leo justo vel arcu. Proin mattis ultricies mi.</p>

            <p>Vivamus vehicula. Nulla pretium nibh at erat. Curabitur molestie nisi quis
            nisi. Morbi imperdiet, urna vel auctor convallis, mi dolor varius nibh, sed
            tincidunt ligula ipsum vel lectus. Aliquam sodales ullamcorper tortor. Nulla
            fringilla turpis sit amet dui. Morbi ut mauris in erat suscipit sodales.
            Maecenas vel augue in dui hendrerit malesuada. Proin interdum nibh sed dolor.
            Quisque ut felis nec orci interdum lobortis. Quisque congue. Suspendisse eget
            risus vel metus interdum vulputate.</p>

            <p>Cras interdum condimentum turpis. Aenean nec pede vitae velit convallis
            tempor. Nullam purus ante, feugiat eget, faucibus nec, volutpat at, ipsum. Morbi
            suscipit venenatis magna. Suspendisse potenti. Aenean ut eros. Nullam eget sem.
            Sed in libero a eros dapibus varius. Aenean nisi. Sed a justo. Morbi lacus elit,
            accumsan vel, euismod ac, aliquam iaculis, eros. In porttitor dolor vitae dolor.
            Nullam vulputate faucibus ligula. Aenean consequat pede quis lectus. Fusce id
            orci. Nam pharetra. Cras nec nunc.</p>

            <p>Maecenas lobortis nunc ut leo. Duis sollicitudin diam id velit. Aliquam ut
            sem a leo fringilla vehicula. Nunc mollis tellus in quam. Sed non nisl sed ipsum
            dignissim ullamcorper. Vestibulum interdum sapien id diam. Curabitur rhoncus
            erat. Cras at pede feugiat neque placerat imperdiet. Morbi ullamcorper. Vivamus
            metus quam, mollis non, consequat eu, bibendum et, eros. Donec quis purus non
            magna ultrices rutrum. Sed tempor, odio id elementum rhoncus, lacus nisi aliquet
            eros, at lacinia leo justo vel arcu. Proin mattis ultricies mi.</p>

            <p>Duis eros. Nullam ultrices iaculis libero. Curabitur purus. Aliquam
            pellentesque. Suspendisse et dolor vel diam dapibus porta. Suspendisse
            facilisis, urna et auctor tempor, elit dui pretium lacus, ac porttitor lectus
            tellus eu arcu. Vestibulum sed eros. Duis sagittis nonummy erat. Nulla
            tincidunt. Cras eu lacus non enim posuere suscipit. Curabitur fermentum turpis
            quis lectus. Praesent mi dolor, tincidunt tincidunt, congue ut, facilisis at,
            dolor. Curabitur magna risus, nonummy sed, aliquet vitae, tempus et, justo.
            Suspendisse nec ligula.</p>

            <p>Duis eros. Nullam ultrices iaculis libero. Curabitur purus. Aliquam
            pellentesque. Suspendisse et dolor vel diam dapibus porta. Suspendisse
            facilisis, urna et auctor tempor, elit dui pretium lacus, ac porttitor lectus
            tellus eu arcu. Vestibulum sed eros. Duis sagittis nonummy erat. Nulla
            tincidunt. Cras eu lacus non enim posuere suscipit. Curabitur fermentum turpis
            quis lectus. Praesent mi dolor, tincidunt tincidunt, congue ut, facilisis at,
            dolor. Curabitur magna risus, nonummy sed, aliquet vitae, tempus et, justo.
            Suspendisse nec ligula.</p>
        </div><!-- /.panel -->
    </div><!-- /.panels -->
</body>
</html>
